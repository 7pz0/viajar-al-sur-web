<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ver datos - Viajar al Sur</title>
</head>
<body>
  <h2>Usuarios registrados - Viajar al Sur</h2>

  <!-- Contenedor donde se mostrar√°n los usuarios -->
  <div id="usuarios"></div>

  <!-- SDKs de Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js"></script>

  <script>
    // üîπ Configuraci√≥n real de Firebase para viajaralsur
    const firebaseConfig = {
      apiKey: "AIzaSyAn4aEuwIBv21bQK3qfKaUhszVuFeEmJvw",
      authDomain: "viajaralsur.firebaseapp.com",
      projectId: "viajaralsur",
      storageBucket: "viajaralsur.firebasestorage.app",
      messagingSenderId: "927613299224",
      appId: "1:927613299224:web:9ef767c182b20569dff16d",
      measurementId: "G-3CQSZQ04DJ"
    };

    // Inicializar Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore(app);

    const container = document.getElementById("usuarios");

    // Leer todos los documentos de la colecci√≥n "usuarios"
    db.collection("usuarios").orderBy("fecha", "desc").get()
      .then((querySnapshot) => {
        if (querySnapshot.empty) {
          container.innerHTML = "<p>No hay usuarios registrados.</p>";
        } else {
          querySnapshot.forEach((doc) => {
            const data = doc.data();
            const div = document.createElement("div");
            div.style.border = "1px solid #ccc";
            div.style.padding = "10px";
            div.style.marginBottom = "10px";

            div.innerHTML = `
              <p><strong>Nombre:</strong> ${data.nombre}</p>
              <p><strong>Email:</strong> ${data.correo}</p>
              <p><strong>Fecha:</strong> ${data.fecha.toDate().toLocaleString()}</p>
              ${data.imagen ? `<img src="${data.imagen}" alt="Imagen" style="max-width:150px;">` : ""}
            `;
            container.appendChild(div);
          });
        }
      })
      .catch((error) => {
        container.innerHTML = "<p>‚ùå Error al leer datos: " + error.message + "</p>";
      });
  </script>
</body>
</html>
